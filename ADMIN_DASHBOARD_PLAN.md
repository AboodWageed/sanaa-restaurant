# خطة تصميم وتطوير لوحة التحكم الإدارية لمطعم صنعاء

## 📋 نظرة عامة

تهدف هذه الوثيقة إلى تحديد الخطوات التفصيلية لتصميم وتطوير لوحة التحكم الإدارية (Admin Dashboard) لمشروع مطعم صنعاء، مع التركيز على الميزات الأساسية في المرحلة الأولى.

## 🎯 الأهداف

-   توفير واجهة سهلة الاستخدام ومبسطة للمسؤولين والموظفين.
-   تمكين إدارة شاملة للمطعم (القائمة، الطلبات، الحجوزات، المخزون، المستخدمين).
-   تقديم تقارير وتحليلات لمساعدة الإدارة في اتخاذ القرارات.
-   ضمان الأمان والتحكم في الوصول بناءً على الأدوار.

## 💡 المبادئ التوجيهية للتصميم

-   **الاستجابة (Responsiveness)**: يجب أن تكون لوحة التحكم قابلة للاستخدام على مختلف أحجام الشاشات.
-   **تجربة المستخدم (UX)**: تصميم بديهي وفعال لتقليل وقت التعلم وزيادة الإنتاجية.
-   **التصميم المرئي (UI)**: استخدام تصميم نظيف وحديث، مع الالتزام بالهوية البصرية للمطعم.
-   **الأداء**: ضمان سرعة التحميل والاستجابة.
-   **الأمان**: تطبيق سياسات الأمان (RLS) والتحقق من الصلاحيات في كل عملية.

## 🏗️ هيكل لوحة التحكم المقترح

ستتكون لوحة التحكم من الأقسام الرئيسية التالية، والتي تتوافق مع خارطة الطريق:

1.  **لوحة المعلومات (Dashboard Overview)**: نظرة عامة على أداء المطعم.
2.  **إدارة القائمة (Menu Management)**: إضافة، تعديل، حذف الأطباق والفئات.
3.  **إدارة الطلبات (Orders Management)**: تتبع وإدارة طلبات العملاء.
4.  **إدارة الحجوزات (Reservations Management)**: إدارة حجوزات الطاولات.
5.  **إدارة المخزون (Inventory Management)**: تتبع المكونات وإدارة المستودعات.
6.  **إدارة المدفوعات (Payments Management)**: عرض وإدارة المعاملات المالية.
7.  **إدارة المستخدمين (Users Management)**: إدارة حسابات المستخدمين والأدوار.
8.  **التقارير والتحليلات (Reports & Analytics)**: عرض تقارير مفصلة.
9.  **الإعدادات (Settings)**: إعدادات النظام والمطعم.

## 🛠️ المكونات المشتركة (Common Components)

لضمان الاتساق وسرعة التطوير، سيتم استخدام المكونات التالية:

-   **شريط جانبي (Sidebar)**: للتنقل بين أقسام لوحة التحكم.
-   **شريط علوي (Header/Navbar)**: للبحث، الإشعارات، وملف المستخدم.
-   **بطاقات الإحصائيات (Stat Cards)**: لعرض البيانات الرقمية الرئيسية (مثل عدد الطلبات، الإيرادات).
-   **الجداول (Tables)**: لعرض البيانات القابلة للفرز والبحث والتقسيم (Pagination).
-   **النماذج (Forms)**: لإضافة وتعديل البيانات.
-   **النوافذ المنبثقة (Modals)**: لتأكيد العمليات أو عرض التفاصيل.
-   **الرسوم البيانية (Charts)**: لعرض البيانات المرئية (باستخدام Recharts).
-   **أزرار الإجراءات (Action Buttons)**: لإجراءات مثل التعديل، الحذف، التفعيل.

## 🚀 المرحلة الأولى من التطوير: لوحة المعلومات وإدارة القائمة

### 1. لوحة المعلومات (Dashboard Overview)

**الهدف:** توفير نظرة عامة سريعة على المقاييس الرئيسية للمطعم.

**المكونات الرئيسية:**

-   **Stat Cards**: لعرض:
    -   عدد الطلبات اليومية.
    -   إجمالي الإيرادات اليومية.
    -   عدد الطلبات المعلقة.
    -   عدد الحجوزات النشطة.
    -   عدد العناصر ذات المخزون المنخفض.
    -   عدد العملاء الجدد.
-   **Revenue Chart**: رسم بياني يوضح الإيرادات على مدار فترة زمنية (يومي، أسبوعي، شهري).
-   **Recent Orders Table**: جدول يعرض أحدث 5-10 طلبات مع الحالة.
-   **Popular Items Chart**: رسم بياني يوضح الأطباق الأكثر مبيعاً.
-   **Low Stock Alert**: قائمة بالمكونات التي وصلت إلى حد المخزون الأدنى.

**التقنيات المستخدمة:**
-   React Components
-   Supabase Client (لجلب البيانات)
-   Recharts (للرسوم البيانية)
-   TailwindCSS (للتصميم)

### 2. إدارة القائمة (Menu Management)

**الهدف:** تمكين المسؤولين من إدارة قائمة الطعام بشكل كامل.

**المكونات الرئيسية:**

-   **MenuItemsTable**: جدول يعرض جميع الأطباق مع إمكانيات:
    -   البحث والفلترة (حسب الفئة، الحالة).
    -   الترتيب (حسب الاسم، السعر).
    -   التقسيم (Pagination).
    -   أزرار الإجراءات (تعديل، حذف، تفعيل/إلغاء تفعيل).
-   **AddMenuItemModal**: نموذج منبثق لإضافة طبق جديد.
    -   حقول: الاسم (عربي/إنجليزي)، الوصف (عربي/إنجليزي)، السعر، الفئة، صورة، حالة التوفر.
    -   إمكانية ربط المكونات (من جدول `ingredients`).
-   **EditMenuItemModal**: نموذج منبثق لتعديل طبق موجود (بنفس حقول الإضافة).
-   **CategoryManager**: واجهة بسيطة لإضافة/تعديل/حذف فئات الأطباق.
-   **ImageUploader**: مكون لرفع صور الأطباق إلى Supabase Storage.

**التقنيات المستخدمة:**
-   React Components
-   React Hook Form + Zod (لإدارة النماذج والتحقق من الصحة)
-   Supabase Client (لجلب البيانات وتحديثها)
-   Supabase Storage (لرفع الصور)
-   TailwindCSS (للتصميم)

## ➡️ الخطوات التالية

بعد الموافقة على هذا التخطيط، سننتقل إلى مرحلة التطوير الفعلي لواجهة المستخدم لهذه الأقسام، بدءًا من إنشاء المكونات الأساسية وتكاملها مع Supabase.

